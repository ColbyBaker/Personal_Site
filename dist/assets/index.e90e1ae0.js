var xt=Object.defineProperty;var Pt=(c,t,e)=>t in c?xt(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var ht=(c,t,e)=>(Pt(c,typeof t!="symbol"?t+"":t,e),e);import{request as vt}from"https://cdn.skypack.dev/@octokit/request";import{G as lt,V as r,M as kt,p as B,S as dt,a as ut,b as mt,Q as x,C as I,c as O,d as At,W as Tt,P as Rt,O as Mt,e as St,A as It,f as Ot,g as Lt,h as D}from"./vendor.6df85783.js";const qt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}};qt();const Ct={owner:"ColbyBaker",userURL:"https://api.github.com/repos/ColbyBaker/",personalSiteDescription:"",getRepo:async function(c){return await vt(`GET /repos/${this.owner}/${c}`,{})}},Y=["payroll-frontend","Personal_Site","Atlas","jamming","ravenous","BossMachine"];class Et extends React.Component{constructor(t){super(t);this.state={}}getLanguagePercentages(){let t=[],e="black";for(const[s,n]of Object.entries(this.props.repo.languagePercentages)){const o={flexGrow:`${n}`,flexBasis:0,overflow:"hidden",backgroundColor:e,height:"100%"};e=="black"?e="white":e="black",t.push(React.createElement("span",{style:o}))}const i={height:"20px",display:"flex",alignItems:"center",border:"1px solid white",overflow:"none"};return React.createElement("div",{style:i},t)}render(){const t=this.props.repo;return React.createElement("div",{className:"repo-card"},React.createElement("a",{href:t.html_url},t.name),React.createElement("p",null,t.description))}}class zt extends React.Component{constructor(t){super(t);this.state={repos:[]}}componentDidMount(){Y.forEach(t=>{Ct.getRepo(t).then(e=>{t=="Personal_Site"&&(e.data.description="The code for the site you're on right now!"),fetch(e.data.languages_url).then(i=>i.json()).then(i=>{e.data.languagePercentages=i,this.setState({repos:[...this.state.repos,e.data]})})})})}render(){let t;return this.state.repos.length>0&&(t=this.state.repos.sort((e,i)=>{const s=Y.findIndex(o=>o===e.name),n=Y.findIndex(o=>o===i.name);return s-n}),t=t.map(e=>React.createElement(Et,{repo:e,key:e.id}))),React.createElement("div",{className:"github-cards"},t)}}const Ft=document.querySelector("#react-github-cards");ReactDOM.render(React.createElement(zt,null),Ft);const pt=new lt;class b{constructor(t,e=!1){this._position=new r(t[0],t[1],t[2]),this._scale=new r(1,1,1),this.inAnimation=e}static distance(t,e){var i=e.x-t.x,s=e.y-t.y,n=e.z-t.z;return Math.hypot(i,s,n)}static loadRocketModel(){const t="/assets/models/rocket.glb";return new Promise((e,i)=>{pt.load(t,s=>{let n=s.scene;e(n)},void 0,s=>{console.error("An error happened while loading a glb",s),i(s)})}).then(e=>(this.rocketModel=e,e))}static getRocketModel(t,e){let i=this.rocketModel.clone();return i.scale.set(e.x,e.y,e.z),i.position.set(t.x,t.y,t.z),i}asyncLoadModel(t,e,i){const s="/assets/models/"+t;return new Promise((n,o)=>{pt.load(s,a=>{let h=a.scene;h.scale.set(i.x,i.y,i.z),h.position.set(e.x,e.y,e.z),n(h)},void 0,a=>{console.error("An error happened while loading a glb",a),o(a)})})}}ht(b,"rocketModel");class Q extends b{constructor(t,e=!0,i=!1,s=new r){super(t,i);this._scale=new r(.8,1,.8),this._scale.multiplyScalar(1),this.fileName="rocket.glb",this._model,this._sceneMin=-700,this._sceneMax=700,this._velocity=new r(s[0],s[1],s[2]),this._velocity.x===0&&this._velocity.y,this._velocity.z===0&&this._velocity.randomDirection(),this._velocity=this.setMagnitude(this._velocity,1),this._acceleration=new r,this.flocking=e,this._lastPosition=new r,this._nextPosition=this._position.clone(),this.inOrbit=!1,this._orbitRadius,this._theta,this._deltaTheta,this._orbitYHeight,this._perception=20,this._maxForce=.01,this._maxSpeed=.8,this._alignmentScalar=1.7,this._cohesionScalar=.5,this._separationScalar=.2,document.getElementById("alignment").value=this._alignmentScalar,document.getElementById("cohesion").value=this._cohesionScalar,document.getElementById("separation").value=this._separationScalar,document.getElementById("perception").value=this._perception,document.getElementById("maxForce").value=this._maxForce,document.getElementById("maxSpeed").value=this._maxSpeed}update(t){this._acceleration.multiplyScalar(0),!this.inAnimation&&!this.inOrbit?(this._flock(t),this._position.add(this.limit(this._velocity,this._maxSpeed)),this._velocity.add(this._acceleration),this._aviodWalls()):this.inAnimation?(this._position.set(this._nextPosition.x,this._nextPosition.y,this._nextPosition.z),this._velocity=new r(this._position.x-this._lastPosition.x,this._position.y-this._lastPosition.y,this._position.z-this._lastPosition.z)):this.inOrbit&&(this._orbit(),this._position.set(this._nextPosition.x,this._orbitYHeight,this._nextPosition.z),this._velocity=new r(this._position.x-this._lastPosition.x,this._position.y-this._lastPosition.y,this._position.z-this._lastPosition.z)),this._pointForwards(),this._lastPosition.set(this.position.x,this.position.y,this.position.z),this._model.position.set(this._position.x,this._position.y,this._position.z)}_getLocalRockets(t){return t.filter((i,s)=>{const n=b.distance(this.position,t[s].position);return n===0?!1:n<=this._perception})}_alignment(t){let e=new r;for(let i of t)e.add(i.velocity);return e.divideScalar(t.length),e=this.setMagnitude(e,1),e.sub(this.velocity),e=this.limit(e,this._maxForce),e}_cohesion(t){let e=new r;for(let s of t)e.add(s.position);e.divideScalar(t.length);let i=e.sub(this.position);return i=e.sub(this.velocity),i=this.setMagnitude(i,this._maxSpeed),i=this.limit(i,this._maxForce),i}_separation(t){let e=new r;for(let s of t){const n=b.distance(this.position,s.position);let o=new r(this.position);o.sub(s.position),o.divideScalar(n*n),e.add(o)}let i=e.sub(this.velocity);return i=this.setMagnitude(i,this._maxSpeed),i=this.limit(i,this._maxForce),i}_aviodWalls(){this.position.x>this._sceneMax?this._position.x=this._sceneMin:this.position.x<this._sceneMin&&(this._position.x=this._sceneMax),this.position.y>this._sceneMax?this._position.y=this._sceneMin:this.position.y<this._sceneMin&&(this._position.y=this._sceneMax),this.position.z>this._sceneMax?this._position.z=this._sceneMin:this.position.z<this._sceneMin&&(this._position.z=this._sceneMax)}_pointForwards(){const t=new kt;t.lookAt(new r(0,0,0),this.velocity,new r(0,1,0)),this._model.quaternion.setFromRotationMatrix(t)}_flock(t){const e=this._getLocalRockets(t);e.length!==0&&(this._updateScalars(),this._acceleration.add(this._alignment(e).multiplyScalar(this._alignmentScalar)),this._acceleration.add(this._cohesion(e).multiplyScalar(this._cohesionScalar)),this._acceleration.add(this._separation(e).multiplyScalar(this._separationScalar)))}_orbit(){this._nextPosition.x=this._orbitRadius*Math.cos(this._theta),this._nextPosition.z=this._orbitRadius*Math.sin(this._theta),this._theta+=this._deltaTheta}setOrbit(t,e,i,s){this.inOrbit=!0,this._orbitYHeight=s,this._orbitRadius=t,this._deltaTheta=2*Math.PI/i*.01,this._theta=e+this._deltaTheta*8}_updateScalars(){let t=document.getElementById("alignment").value;t=Math.round(t*100)/100,t!=this._alignmentScalar&&console.log(`Alignment: ${t}`),this._alignmentScalar=t;let e=document.getElementById("cohesion").value;e=Math.round(e*100)/100,e!=this._cohesionScalar&&console.log(`Cohesion: ${e}`),this._cohesionScalar=e;let i=document.getElementById("separation").value;i=Math.round(i*100)/100,i!=this._separationScalar&&console.log(`separation: ${i}`),this._separationScalar=i;let s=document.getElementById("perception").value;s=Math.round(s*100)/100,s!=this._perception&&console.log(`perception: ${s}`),this._perception=s;let n=document.getElementById("maxForce").value;n=Math.round(n*100)/100,n!=this._maxForce&&console.log(`maxForce: ${n}`),this._maxForce=n;let o=document.getElementById("maxSpeed").value;o=Math.round(o*100)/100,o!=this._maxSpeed&&console.log(`maxSpeed: ${o}`),this._maxSpeed=o}set nextPosition(t){this._nextPosition.set(t.x,t.y,t.z)}get position(){const t=new r;return t.copy(this._position),t}set position(t){this._position=t}get theta(){return this._theta}get orbitRadius(){return this._orbitRadius}get orbitYHeight(){return this._orbitYHeight}get velocity(){return this._velocity}get model(){return this._model}setMagnitude(t,e){let i=new B.Vector(t.x,t.y,t.z);return i.setMag(e),new r(i.x,i.y,i.z)}limit(t,e){let i=new B.Vector(t.x,t.y,t.z);return i.limit(e),new r(i.x,i.y,i.z)}getRocketModel(){const t=b.getRocketModel(this.position,this._scale);return this._model=t,t}asyncLoadModel(){return super.asyncLoadModel(this.fileName,this._position,this._scale).then(t=>(this._model=t,t))}}class f extends b{constructor(t,e,i,s){super([0,0,0]);this._radius=t*.5,this._theta=s,this._deltaTheta=2*Math.PI/i*.01,this._scale.multiplyScalar(30),this.fileName=e,this._isLoading=!0,this._model}rotate(){this._model.rotation.y+=.002}orbit(){this._theta+=this._deltaTheta,this._position.x=this._radius*Math.cos(this._theta),this._position.z=this._radius*Math.sin(this._theta)}update(){this.rotate(),this.orbit(),this._model.position.set(this._position.x,this._position.y,this._position.z)}get model(){return this._model}get position(){const t=new r;return t.copy(this._position),t}get deltaTheta(){return this._deltaTheta}get theta(){const t=this._position;return Math.atan2(t.z,t.x)}get radius(){return this._radius}set theta(t){this._theta=t}asyncLoadModel(){return super.asyncLoadModel(this.fileName,[0,0,0],this._scale).then(t=>(this.fileName==="saturn.glb"&&(t.rotation.x+=.15),t.rotation.y=90,this._model=t,t)).then(this._isLoading=!1)}}class jt extends f{constructor(t,e,i){super(t,"",e,i)}update(){this.orbit(),this._position.set(this._position.x,this._position.y,this._position.z)}orbit(){super.orbit()}asyncLoadModel(){}}class Bt extends f{constructor(t,e,i,s,n,o,a){super(t,e,i,s);this._moonTheta=a,this._moonRadius=n,this._moonDeltaTheta=2*Math.PI/o}orbit(){let t=new B.Vector(0,0,0);this._theta+=this._deltaTheta,t.x=this._radius*Math.cos(this._theta),t.z=this._radius*Math.sin(this._theta),this._moonTheta+=this._moonDeltaTheta,t.x+=this._moonRadius*Math.cos(this._moonTheta),t.z+=this._moonRadius*Math.sin(this._moonTheta),this._position.x=t.x,this._position.z=t.z}rotate(){this._model.rotation.y+=.003}}class Nt{constructor(t){this._camera=t,this._currentPosition=new r,this._currentLookat=new r,this._target,this._offsetBeforeTransition=new r,this._defaultOffset=new r(0,-2,17),this._offset=new r,this._offset.copy(this._defaultOffset),this._saturnOffsetModifier=new r(30,4,8),this._defaultLookAt=new r(0,-4,0),this._lookAt=new r,this._lookAt.copy(this._defaultLookAt),this._saturnLookAtModifier=new r(0,-12,0),this._onMobile=!1,this._mobileOffsetBias=1.1,this._mobileLookAtBias=1.6}update(){window.innerHeight<600||window.innerWidth<600?this._onMobile=!0:this._onMobile=!1;const t=this._calculateIdealOffset(),e=this._calculateIdealLookAT();this._currentPosition.copy(t),this._currentLookat.copy(e),this._camera.position.copy(this._currentPosition),this._camera.lookAt(this._currentLookat)}_calculateIdealOffset(){let t=new r(this._offset.x,this._offset.y,this._offset.z);return this._target.fileName==="saturn.glb"&&t.add(this._saturnOffsetModifier),this._onMobile&&t.multiplyScalar(this._mobileOffsetBias),t.add(this._target.position),t}_calculateIdealLookAT(){let t=new r(this._lookAt.x,this._lookAt.y,this._lookAt.z);return this._target.fileName==="saturn.glb"&&t.add(this._saturnLookAtModifier),this._onMobile&&t.multiplyScalar(this._mobileLookAtBias),t.x+=this._target.position.x,t.y+=this._target.position.y,t.z+=this._target.position.z,t}setTarget(t){this._target=t}setOffsetToDefault(){this._offset.copy(this._defaultOffset)}set offset(t){this._offset.copy(t)}get defaultOffset(){const t=new r;return t.copy(this._defaultOffset),t}get targetPosition(){return new r(this._target.position.x,this._target.position.y,this._target.position.z)}set offsetBeforeTransition(t){this._offsetBeforeTransition.copy(t)}get offsetBeforeTransition(){return this._offsetBeforeTransition.clone()}get target(){return this._target}get offset(){return new r(this._offset.x,this._offset.y,this._offset.z)}get radius(){return b.distance(this._currentPosition,new r(0,0,0))}get theta(){const t=this._currentPosition;return Math.atan2(t.z,t.x)}get thetaRelativeToPlanet(){return Math.atan2(this._offset.z,this._offset.x)}get position(){return new r(this._currentPosition.x,this._currentPosition.y,this._currentPosition.z)}}class X extends b{constructor(t,e=!0){super(t,e)}set position(t){this._position.copy(t)}get position(){let t=new r;return t.copy(this._position),t}}class Dt{constructor(t,e){this._scene=t,this._thirdPersonCamera=e,this.inAnimation=!1,this.inNavbarAnimation=!1,this._animatedObjectsArray=[],this._currentAnimations=[],this._animationQueue=[],this._usedSequenceIDs=[]}update(){this.inAnimation&&this._handleAllCurrentAnimations()}_handleAllCurrentAnimations(){this._currentAnimations.forEach((t,e)=>{this._animationExpired(t)&&this._removeAnimation(e)}),this._handleAnimationQueue(),this._currentAnimations.forEach((t,e)=>{if(t.playhead<0){t.playhead+=t.stepRate;return}switch(t.animationType){case"path":this._handleRocketPathAnimation(e);break;case"cameraTargetPath":this._handleCameraTargetPathAnimation(e);break;case"cameraTargetAndFollow":this._handleCameraTargetAndFolowAnimation(e);break;case"cameraTargetChange":this._handleCameraTargetChange(e);break;case"rocketToOrbit":this._handleRocketToOrbit(e);break;case"navbarTrigger":this._handleNavbarTrigger(e);break;case"other":this._handleOtherAnimation(e);break}})}_handleAnimationQueue(){this._usedSequenceIDs.forEach(t=>{let e=1/0;this._currentAnimations.forEach(i=>{i.sequenceID===t&&i.waitForAnimationToFinish&&(e=i.sequenceGroup)}),this._animationQueue.forEach(i=>{i.sequenceID===t&&i.sequenceGroup<e&&(e=i.sequenceGroup)}),this._animationQueue.forEach((i,s)=>{i.sequenceID===t&&i.sequenceGroup<=e&&(this._currentAnimations.push(i),this._animationQueue.splice(s,1))})})}_handleOtherAnimation(t){const e=this._currentAnimations[t];e.playhead+=e.stepRate}_handleRocketPathAnimation(t){const e=this._currentAnimations[t],i=this._animatedObjectsArray[e.animatedObjects.movingObjectIndex];e.firstFrame&&(i.inAnimation=!0,e.firstFrame=!1);const n=this._animatedObjectsArray[e.animatedObjects.pathIndex].getPoint(e.playhead);i.nextPosition=n,e.playhead+=e.stepRate}_handleCameraTargetPathAnimation(t){const e=this._currentAnimations[t],i=e.animatedObjects.targetIndex,s=this._animatedObjectsArray[i];e.firstFrame&&(s.inAnimation=!0,e.firstFrame=!1);const o=this._animatedObjectsArray[e.animatedObjects.pathIndex].getPoint(e.playhead);s.position=o,e.playhead+=e.stepRate}_handleCameraTargetAndFolowAnimation(t){const e=this._currentAnimations[t];e.firstFrame&&(this._thirdPersonCamera.setTarget(this._animatedObjectsArray[0]),e.firstFrame=!1),e.playhead+=e.stepRate}_handleCameraTargetChange(t){const e=this._currentAnimations[t],i=this._animatedObjectsArray[e.params.newTargetIndex];if(e.firstFrame){const s=this.getVector(i.position,this._thirdPersonCamera.position);this._thirdPersonCamera.offsetBeforeTransition=s,this._thirdPersonCamera.offset=s,this._thirdPersonCamera.setTarget(i),e.playhead+=e.stepRate,e.firstFrame=!1}else{const s=new r;s.lerpVectors(this._thirdPersonCamera.offsetBeforeTransition,this._thirdPersonCamera.defaultOffset,e.playhead),this._thirdPersonCamera.offset=s,e.playhead+=e.stepRate}}_handleRocketToOrbit(t){const e=this._currentAnimations[t],i=this._animatedObjectsArray[e.animatedObjects.rocketIndex],s=e.params;e.firstFrame&&(i.setOrbit(s.radius,s.theta,s.stepRate,s.yValue),e.firstFrame=!1),e.playhead+=e.stepRate}_handleNavbarTrigger(t){const e=this._currentAnimations[t];e.firstFrame&&(this.inNavbarAnimation=e.params.inNavbarAnimation,e.firstFrame=!1)}_animationExpired(t){return t.playhead>=t.totalTime}_addAnimation(t,e,i,s=!0,n={},o={},a=.001,h="other",u=0){this.inAnimation=!0;const l=0-u;this._usedSequenceIDs.includes(t)||this._usedSequenceIDs.push(t);let d={sequenceID:t,sequenceGroup:e,waitForAnimationToFinish:s,animatedObjects:n,params:o,params:o,playhead:l,stepRate:a,totalTime:i,animationType:h,firstFrame:!0};this._animationQueue.push(d)}_addRocketPathAnimation(t,e,i,s,n=1,o=.001,a="path"){const h=this._animatedObjectsArray.push(s)-1,u=this._animatedObjectsArray.push(i)-1,l=!0,d={movingObjectIndex:h,pathIndex:u};this._addAnimation(t,e,n,l,d,{},o,a)}_addCameraTargetPathAnimation(t,e,i,s,n=1,o=.001,a="cameraTargetPath"){const h=this._animatedObjectsArray.push(s)-1,u=this._animatedObjectsArray.push(i)-1,l=!0;s.inAnimation=!0;const d={targetIndex:h,pathIndex:u};this._addAnimation(t,e,n,l,d,{},o,a)}_addCameraTargetChange(t,e,i,s=0,n=0,o=0,a="cameraTargetChange"){const u={newTargetIndex:this._animatedObjectsArray.push(i)-1};this._addAnimation(t,e,s,!1,{},u,n,a,o)}_addRocketToOrbit(t,e,i,s,n,o,a,h=0){const l={rocketIndex:this._animatedObjectsArray.push(i)-1},d={theta:s,stepRate:n,radius:o,yValue:a};this._addAnimation(t,e,.5,!1,l,d,.1,"rocketToOrbit",h)}_addNavbarTrigger(t,e,i){const s={inNavbarAnimation:i};this._addAnimation(t,e,.1,!1,{},s,.1,"navbarTrigger")}_removeAnimation(t){const e=this._currentAnimations[t],i=e.sequenceID;if(this._currentAnimations.splice(t,1),e.animatedObjects)for(const n in e.animatedObjects){const o=e.animatedObjects[n],a=this._animatedObjectsArray[o];a.inAnimation=!1,this._animatedObjectsArray.splice(o,1,null)}if(e.params)for(const n in e.params){const o=e.params[n];this._animatedObjectsArray.splice(o,1,null)}let s=!1;this._currentAnimations.forEach(n=>{n.sequenceID===i&&(s=!0)}),this._animationQueue.forEach(n=>{n.sequenceID===i&&(s=!0)}),s||(this._usedSequenceIDs=this._usedSequenceIDs.filter(n=>n!=i))}_getUniqueSequenceID(){let t=!0,e=0;for(;t;)e++,t=this._usedSequenceIDs.includes(e);return this._usedSequenceIDs.push(e),e}getTestPoint(t){const e=new dt(.5,24,24),i=new ut({color:16711680}),s=new mt(e,i);s.position.set(t.x,t.y,t.z),this._scene.add(s)}getRadialPosition(t,e,i=-2){const s=e*Math.cos(t),n=e*Math.sin(t);return new r(s,i,n)}modifyPositionUsingTheta(t,e,i=0){t.x,t.z;const s=e,n=Math.cos(s)-Math.sin(s),o=Math.sin(s)+Math.cos(s);return new r(n,i,o)}getVector(t,e){return new r(e.x-t.x,e.y-t.y,e.z-t.z)}getQuaternionFromVectors(t,e,i=new r){const s=new r;s.copy(t),s.sub(i),s.normalize();const n=new r;n.copy(e),n.sub(i),n.normalize();let o=new x;return o.setFromUnitVectors(s,n),o}getScalarFromVectors(t,e,i){const s=new r;s.copy(t);const n=new r;n.copy(e),i&&(s.sub(i),n.sub(i));const o=this.getQuaternionFromVectors(s,n);return s.applyQuaternion(o),n.divide(s)}getPositionUsingQuaternion(t,e,i,s){const n=new r;return n.copy(t),n.sub(e),n.applyQuaternion(i),n.multiplyScalar(s),n.add(e),n}launchNewRocketToPlanet(t,e){this.inNavbarAnimation=!0;const i=this._getUniqueSequenceID(),s=this._thirdPersonCamera.targetPosition,n=new X([s.x,s.y,s.z]);let[o,a,h]=this._launchRocketFromPlanet(i,t,n),u=h+=1;h=this._flyRocketToPlanet(i,u,t,n,e,o,a),this._addNavbarTrigger(i,h+1,!1)}launchNewRocketToOrbit(t){this.inNavbarAnimation=!0;const e=this._getUniqueSequenceID,i=this._thirdPersonCamera.targetPosition,s=1.1,n=250,o=20,a=200,h=new X([i.x,i.y,i.z]);let[u,l,d]=this._launchRocketFromPlanet(e,t,h);d=this._moveRocketToOrbit(e,d,l,u,t,h,s,a,n,o),this._addNavbarTrigger(e,d+1,!1)}moveRocketToPlanet(t,e){this.inNavbarAnimation=!0;const i=this._getUniqueSequenceID,s=this._thirdPersonCamera.targetPosition,n=new X([s.x,s.y,s.z]);t.inOrbit=!1;const o=t.position,a=this.getRadialPosition(t.theta-.6,t.orbitRadius,t.orbitYHeight-60);this._addCameraTargetChange(i,1,n,1,.01);let h=this._flyRocketToPlanet(i,1,t,n,e,a,o);this._addNavbarTrigger(i,h+1,!1)}startWithRocketInOrbit(t){const e=this._getUniqueSequenceID,i=1.1,s=250,n=20,o=200;this._addRocketToOrbit(e,1,t,i,o,s,n)}launchBackgroundRocket(t,e){const i=this._getUniqueSequenceID,s=new r;s.copy(e.position);let n=new r;n.copy(this._thirdPersonCamera._offset),n.add(s);let o=new x,a=new x,h=new x,u=new x,l,d,m,_;this._thirdPersonCamera._target.fileName!="saturn.glb"?(o.set(-.042749690783808636,.7740255589161532,.0910618304607239,.6251117029104221),a.set(-.47758778857662715,.6817708103503712,.08020833062945544,.5483293627504555),h.set(.09619301751625357,.44899411012929447,.05282283648579934,.8867699478421195),u.set(.05077657566513715,.033260032158517625,.003912944959825603,.9981483850040926),l=.074319895,d=1.56,m=1.235886,_=.8089725):(o.set(-.2013205941974495,.9605548788221911,.16474032273116399,.09831057516515629),a.set(-.25185770712098016,-.6013581402603341,.3503378997660027,.6724577596354593),h.set(.1853652156001544,-.29400754924492767,-.19891765478059095,.9163138460424404),u.set(.017761023103334977,-.035978943782180785,-.018434912221427513,.9990246321658088),l=.45,d=1.55,m=1.4,_=1);const y=this.getPositionUsingQuaternion(n,s,o,l),k=this.getPositionUsingQuaternion(n,s,a,d),P=this.getPositionUsingQuaternion(n,s,h,m),w=this.getPositionUsingQuaternion(n,s,u,_);let N=new I(y,k,P,w),S=1;this._addRocketPathAnimation(i,S,N,t,1,.006,"path")}_launchRocketFromPlanet(t,e,i){const s=this._thirdPersonCamera.position,n=this._thirdPersonCamera.target.position;let o=new x,a=new x,h=new x,u=new x,l,d,m,_;this._thirdPersonCamera._target.fileName!="saturn.glb"?(o.set(-.042749690783808636,.7740255589161532,.0910618304607239,.6251117029104221),a.set(-.47758778857662715,.6817708103503712,.08020833062945544,.5483293627504555),h.set(.09619301751625357,.44899411012929447,.05282283648579934,.8867699478421195),u.set(.05077657566513715,.033260032158517625,.003912944959825603,.9981483850040926),l=.074319895,d=1.56,m=1.235886,_=.8089725):(o.set(-.2013205941974495,.9605548788221911,.16474032273116399,.09831057516515629),a.set(-.25185770712098016,-.6013581402603341,.3503378997660027,.6724577596354593),h.set(.1853652156001544,-.29400754924492767,-.19891765478059095,.9163138460424404),u.set(.017761023103334977,-.035978943782180785,-.018434912221427513,.9990246321658088),l=.45,d=1.55,m=1.4,_=1);const y=this.getPositionUsingQuaternion(s,n,o,l),k=this.getPositionUsingQuaternion(s,n,a,d),P=this.getPositionUsingQuaternion(s,n,h,m),w=this.getPositionUsingQuaternion(s,n,u,_);let N=new I(y,k,P,w),S=1;return this._addRocketPathAnimation(t,S,N,e,1,.006,"path"),this._addCameraTargetChange(t,S,i,1,.01),this._addCameraTargetPathAnimation(t,S,N,i,1,.006),[P,w,S]}_flyRocketToPlanet(t,e,i,s,n,o,a){let h=this.getVector(o,a);h.add(a),h.y+=2;const u=new r(0,70,0),l=new r,d=new r;l.copy(n.position),d.copy(n.position),l.x-=10;let m=new I(a,h,u,l),_=new I(a,h,u,d),y=e;return this._addRocketPathAnimation(t,y,m,i,1,.005,"path"),this._addCameraTargetPathAnimation(t,y,_,s,1,.005),this._addCameraTargetChange(t,y,n,.1,.01,2),y}_moveRocketToOrbit(t,e,i,s,n,o,a,h,u,l){const d=this.getRadialPosition(a,u,l);let m=this.getVector(s,i);m.multiplyScalar(4),m.y+=10,m.add(i);const _=this.getRadialPosition(a-.7,u+30,l+10);let y=new I(i,m,_,d),k=new r;k.copy(m),k.y+=15;let P=new r;P.copy(_),P.y+=15,new I(i,k,P,d);let w=e+1;return this._addRocketPathAnimation(t,w,y,n,1,.003,"path"),this._addCameraTargetChange(t,w,n,.5,.01),w++,this._addRocketToOrbit(t,w,n,a,h,u,l),w}}let _t=!0,K=!1,v,g,A,L,T,ft,Z,J,tt,et,G,it,U=()=>{},gt=()=>{},V=()=>{},st=()=>{};document.getElementById("addRocket").addEventListener("click",()=>{const c=document.getElementById("inputNumberRockets").value;st(c)});const yt=document.querySelectorAll(".about-me-card");yt.forEach(c=>{c.addEventListener("click",()=>{c.classList.toggle("active")})});console.log(yt);let Qt=new f(0,"sun.glb",1e3,0),Gt=new f(65,"mercury.glb",241,.73),Ut=new f(100,"venus.glb",615,4.4),q=new f(155,"earth.glb",1e3,5.4),wt=new Bt(155,"moon.glb",1e3,5.4,8,1700,-1),H=new f(210,"mars.glb",1880,-1.9),Vt=new f(275,"jupiter.glb",11900,3.85),W=new f(345,"saturn.glb",29400,-3.82),Ht=new f(405,"uranus.glb",83700,.79),Wt=new f(455,"neptune.glb",163700,4.76),$t=new f(510,"pluto.glb",247900,-4.57),Yt=new jt(520,4e3,1),p,$=document.getElementById("launch-home");$.addEventListener("click",()=>{p==="#resume"?V(q):U(q),p="#home"});let nt=document.getElementById("launch-projects");nt.addEventListener("click",()=>{p==="#resume"?V(H):U(H),p="#projects"});let ot=document.getElementById("launch-about-me");ot.addEventListener("click",()=>{p==="#resume"?V(W):U(W),p="#about-me"});let at=document.getElementById("launch-resume");at.addEventListener("click",()=>{gt(),p="#resume"});const rt=[$,nt,ot,at];rt.forEach(c=>{c.addEventListener("click",()=>{c.classList.add("pushed"),document.getElementById("home").classList.add("hidden"),document.getElementById("projects").classList.add("hidden"),document.getElementById("about-me").classList.add("hidden"),document.getElementById("resume").classList.add("hidden"),setTimeout(()=>{K=!0},100),rt.forEach(t=>{c!==t&&(t.classList.remove("pushed"),t.classList.remove("first-location"),t.classList.add("other-active"))})})});const ct=document.querySelector("#react-github-cards");ct.addEventListener("wheel",c=>{ct.scrollLeft+=c.deltaY,ct.scrollLeft+=c.deltaX});const C=30,E=.8,z=.1,F=2,j=.1;Z=new O(16777215,F,C,E,z,j);J=new O(16777215,F,C,E,z,j);tt=new O(16777215,F,C,E,z,j);et=new O(16777215,F,C,E,z,j);G=new O(16777215,F,C,E,z,j);it=new O(16777215,F,C,E,z,j);Z.position.set(0,35,0);J.position.set(0,-35,0);tt.position.set(35,0,0);et.position.set(-35,0,0);G.position.set(0,0,35);it.position.set(0,0,-35);const R=[Qt,Gt,Ut,q,wt,H,Vt,W,Ht,Wt,$t,Yt];let M=[];const Xt=()=>{const c=R.map(t=>t.asyncLoadModel());return Promise.all(c).then(()=>{R.forEach(t=>{g.add(t.model)})})},Kt=()=>{new lt,g=new At,A=new Tt({canvas:document.querySelector("#bg")});const c=75,t=window.innerWidth/window.innerHeight,e=.1,i=1e4;v=new Rt(c,t,e,i),v.position.set(-5,27.5,-1.7),L=new Nt(v),T=new Dt(g,L),A.setPixelRatio(window.devicePixeRatio),A.setSize(window.innerWidth,window.innerHeight),A.render(g,v),ft=new Mt(v,A.domElement);const s=new St(16777215,1.3),n=new It(16777215,.3);s.position.set(0,0,0),g.add(s,n),new Ot(G),new Lt(200,20),g.add(Z,J,tt,et,G,it),Xt();let o;U=l=>{const d=L.targetPosition,m=new Q([d.x,d.y,d.z],!1,!0);o=m,g.add(m.getRocketModel()),M.push(m),T.launchNewRocketToPlanet(m,l)},gt=()=>{const l=L.targetPosition,d=new Q([l.x,l.y,l.z],!1,!0);o=d,g.add(d.getRocketModel()),M.push(d),T.launchNewRocketToOrbit(d)},V=l=>{T.moveRocketToPlanet(o,l)},st=l=>{for(let d=0;d<l;d++)setTimeout(()=>{te()},d*100)},st(70),Jt(3e3),window.addEventListener("resize",function(){const l=window.innerWidth,d=window.innerHeight;A.setSize(l,d),v.aspect=l/d,v.updateProjectionMatrix()});const a=window.location.href.substring(window.location.href.lastIndexOf("/")+1);let h,u;switch(a){case"#home":document.querySelector(a).classList.remove("hidden"),h=q,p=a,u=$;break;case"#projects":document.querySelector(a).classList.remove("hidden"),h=H,p=a,u=nt;break;case"#about-me":document.querySelector(a).classList.remove("hidden"),h=W,p=a,u=ot;break;case"#resume":document.querySelector(a).classList.remove("hidden"),p=a;const l=new Q([0,0,0]);o=l,M.push(l),g.add(l.getRocketModel()),T.startWithRocketInOrbit(l),h=l,u=at;break;default:document.querySelector("#home").classList.remove("hidden"),h=q,p="#home",u=$;break}u.classList.add("first-location"),L.setTarget(h),setTimeout(bt,150)};function bt(){requestAnimationFrame(bt),M.forEach(c=>{c.update(M)}),R.forEach(c=>{c.update()}),T.update(),ft.update(),L.update(),A.render(g,v),_t&&(document.querySelector("#loading-screen").style.display="none",document.querySelector("#main-content").style.display="",document.querySelector("#navbar").style.display="",_t=!1),K&&!T.inNavbarAnimation&&(document.querySelector(p).classList.remove("hidden"),rt.forEach(c=>{c.classList.remove("other-active")}),K=!1)}function Zt(){b.loadRocketModel().then(()=>{Kt()})}const Jt=c=>{const t=new B.Vector(0,0,0);let e=0,i=[],s=new B.Vector,n;for(;e<c;){const o=D.randFloat(.25,.5),a=new dt(o,24,24),h=new ut({color:16777215}),u=new mt(a,h);i=Array(3).fill().map(()=>D.randFloatSpread(1e3)),s.set(i[0],i[1],i[2]),n=b.distance(s,t),n>400&&(u.position.set(i[0],i[1],i[2]),g.add(u),e++)}},te=()=>{let c=R[D.randInt(0,R.length-1)];for(;c===q||c===wt;)c=R[D.randInt(0,R.length-1)];const t=c.position,e=new Q([t.x,t.y,t.z]);M.push(e),g.add(e.getRocketModel()),document.getElementById("numberOfRockets").innerHTML=M.length};Zt();
