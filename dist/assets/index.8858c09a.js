import{G as N,V as a,M as ht,p as b,S as U,a as W,b as H,Q as S,C as $,B as ct,L as lt,c as dt,d as y,e as ut,W as mt,P as _t,O as pt,f as ft,A as gt,g as yt,h as wt,i as xt}from"./vendor.d971c9ec.js";const At=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}};At();const vt=new N;class w{constructor(t,e=!1){this._position=new a(t[0],t[1],t[2]),this._scale=new a(1,1,1),this.inAnimation=e}static distance(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return Math.hypot(i,n,s)}asyncLoadModel(t,e,i){const n="/assets/"+t;return new Promise((s,o)=>{vt.load(n,h=>{let c=h.scene;c.scale.set(i.x,i.y,i.z),c.position.set(e.x,e.y,e.z),s(c)},void 0,h=>{console.error("An error happened while loading a glb",h),o(h)})})}}class K extends w{constructor(t,e=!0,i=!1,n=new a){super(t,i);this._scale=new a(.8,1,.8),this._scale.multiplyScalar(.6),this.fileName="rocket.glb",this._model,this._sceneMin=-700,this._sceneMax=700,this._velocity=new a(n[0],n[1],n[2]),this._velocity.x===0&&this._velocity.y,this._velocity.z===0&&this._velocity.random(),this._velocity=this.setMagnitude(this._velocity,1),this._acceleration=new a,this.flocking=e,this._lastPosition=new a,this._nextPosition=this._position.clone(),this._perception=20,this._maxForce=.01,this._maxSpeed=.8,this._alignmentScalar=1.7,this._cohesionScalar=.5,this._separationScalar=.2,document.getElementById("alignment").value=this._alignmentScalar,document.getElementById("cohesion").value=this._cohesionScalar,document.getElementById("separation").value=this._separationScalar,document.getElementById("perception").value=this._perception,document.getElementById("maxForce").value=this._maxForce,document.getElementById("maxSpeed").value=this._maxSpeed}_getLocalRockets(t){return t.filter((i,n)=>{const s=w.distance(this.position,t[n].position);return s===0?!1:s<=this._perception})}_alignment(t){let e=new a;for(let i of t)e.add(i.velocity);return e.divideScalar(t.length),e=this.setMagnitude(e,1),e.sub(this.velocity),e=this.limit(e,this._maxForce),e}_cohesion(t){let e=new a;for(let n of t)e.add(n.position);e.divideScalar(t.length);let i=e.sub(this.position);return i=e.sub(this.velocity),i=this.setMagnitude(i,this._maxSpeed),i=this.limit(i,this._maxForce),i}_separation(t){let e=new a;for(let n of t){const s=w.distance(this.position,n.position);let o=new a(this.position);o.sub(n.position),o.divideScalar(s*s),e.add(o)}e.divideScalar(t.length);let i=e.sub(this.velocity);return i=this.setMagnitude(i,this._maxSpeed),i=this.limit(i,this._maxForce),i}_aviodWalls(){this.position.x>this._sceneMax?this._position.x=this._sceneMin:this.position.x<this._sceneMin&&(this._position.x=this._sceneMax),this.position.y>this._sceneMax?this._position.y=this._sceneMin:this.position.y<this._sceneMin&&(this._position.y=this._sceneMax),this.position.z>this._sceneMax?this._position.z=this._sceneMin:this.position.z<this._sceneMin&&(this._position.z=this._sceneMax)}_pointForwards(){const t=new ht;t.lookAt(new a(0,0,0),this.velocity,new a(0,1,0)),this._model.quaternion.setFromRotationMatrix(t)}_flock(t){const e=this._getLocalRockets(t);e.length!==0&&(this._updateScalars(),this._acceleration.add(this._alignment(e).multiplyScalar(this._alignmentScalar)),this._acceleration.add(this._cohesion(e).multiplyScalar(this._cohesionScalar)),this._acceleration.add(this._separation(e).multiplyScalar(this._separationScalar)))}update(t){this._acceleration.multiplyScalar(0),this.inAnimation?this.inAnimation&&(this._position.set(this._nextPosition.x,this._nextPosition.y,this._nextPosition.z),this._velocity=new a(this._position.x-this._lastPosition.x,this._position.y-this._lastPosition.y,this._position.z-this._lastPosition.z),this._pointForwards(),this._lastPosition.set(this.position.x,this.position.y,this.position.z)):(this._flock(t),this._position.add(this.limit(this._velocity,this._maxSpeed)),this._velocity.add(this._acceleration),this._aviodWalls(),this._pointForwards()),this._model.position.set(this._position.x,this._position.y,this._position.z)}_updateScalars(){let t=document.getElementById("alignment").value;t=Math.round(t*100)/100,t!=this._alignmentScalar&&console.log(`Alignment: ${t}`),this._alignmentScalar=t;let e=document.getElementById("cohesion").value;e=Math.round(e*100)/100,e!=this._cohesionScalar&&console.log(`Cohesion: ${e}`),this._cohesionScalar=e;let i=document.getElementById("separation").value;i=Math.round(i*100)/100,i!=this._separationScalar&&console.log(`separation: ${i}`),this._separationScalar=i;let n=document.getElementById("perception").value;n=Math.round(n*100)/100,n!=this._perception&&console.log(`perception: ${n}`),this._perception=n;let s=document.getElementById("maxForce").value;s=Math.round(s*100)/100,s!=this._maxForce&&console.log(`maxForce: ${s}`),this._maxForce=s;let o=document.getElementById("maxSpeed").value;o=Math.round(o*100)/100,o!=this._maxSpeed&&console.log(`maxSpeed: ${o}`),this._maxSpeed=o}set nextPosition(t){this._nextPosition.set(t.x,t.y,t.z)}get position(){const t=new a;return t.copy(this._position),t}set position(t){this._position=t}get velocity(){return this._velocity}get model(){return this._model}setMagnitude(t,e){let i=new b.Vector(t.x,t.y,t.z);return i.setMag(e),new a(i.x,i.y,i.z)}limit(t,e){let i=new b.Vector(t.x,t.y,t.z);return i.limit(e),new a(i.x,i.y,i.z)}asyncLoadModel(){return super.asyncLoadModel(this.fileName,this._position,this._scale).then(t=>(this._model=t,t))}}class d extends w{constructor(t,e,i,n){super([0,0,0]);this._radius=t*.5,this._theta=n,this._deltaTheta=2*Math.PI/i*.01,this._scale.multiplyScalar(30),this.fileName=e,this._isLoading=!0,this._model}rotate(){this._model.rotation.y+=.002}orbit(){this._theta+=this._deltaTheta,this._position.x=this._radius*Math.cos(this._theta),this._position.z=this._radius*Math.sin(this._theta)}update(){this.rotate(),this.orbit(),this._model.position.set(this._position.x,this._position.y,this._position.z)}get model(){return this._model}get position(){const t=new a;return t.copy(this._position),t}get deltaTheta(){return this._deltaTheta}get theta(){const t=this._position;return Math.atan2(t.z,t.x)}get radius(){return this._radius}set theta(t){this._theta=t}asyncLoadModel(){return super.asyncLoadModel(this.fileName,[0,0,0],this._scale).then(t=>(t.rotation.y=90,this._model=t,t)).then(this._isLoading=!1)}}class Pt extends d{constructor(t,e,i,n,s,o,h){super(t,e,i,n);this._moonTheta=h,this._moonRadius=s,this._moonDeltaTheta=2*Math.PI/o}orbit(){let t=new b.Vector(0,0,0);this._theta+=this._deltaTheta,t.x=this._radius*Math.cos(this._theta),t.z=this._radius*Math.sin(this._theta),this._moonTheta+=this._moonDeltaTheta,t.x+=this._moonRadius*Math.cos(this._moonTheta),t.z+=this._moonRadius*Math.sin(this._moonTheta),this._position.x=t.x,this._position.z=t.z}rotate(){this._model.rotation.y+=.003}}class Mt{constructor(t){this._camera=t,this._currentPosition=new a,this._currentLookat=new a,this._target,this._offsetBeforeTransition=new a,this._defaultOffset=new a(0,-2,17),this._offset=new a,this._offset.copy(this._defaultOffset),this._lookAt=new a(0,-4,0)}update(){const t=this._calculateIdealOffset(),e=this._calculateIdealLookAT();this._currentPosition.copy(t),this._currentLookat.copy(e),this._camera.position.copy(this._currentPosition),this._camera.lookAt(this._currentLookat)}_calculateIdealOffset(){let t=new a(this._offset.x,this._offset.y,this._offset.z);return t.add(this._target.position),t}_calculateIdealLookAT(){let t=new a(this._lookAt.x,this._lookAt.y,this._lookAt.z);return t.x+=this._target.position.x,t.y+=this._target.position.y,t.z+=this._target.position.z,t}setTarget(t){this._target=t}setOffsetToDefault(){this._offset.copy(this._defaultOffset)}set offset(t){this._offset.copy(t)}get defaultOffset(){const t=new a;return t.copy(this._defaultOffset),t}get targetPosition(){return new a(this._target.position.x,this._target.position.y,this._target.position.z)}set offsetBeforeTransition(t){this._offsetBeforeTransition.copy(t)}get offsetBeforeTransition(){return this._offsetBeforeTransition.clone()}get target(){return this._target}get offset(){return new a(this._offset.x,this._offset.y,this._offset.z)}get radius(){return w.distance(this._currentPosition,new a(0,0,0))}get theta(){const t=this._currentPosition;return Math.atan2(t.z,t.x)}get thetaRelativeToPlanet(){return Math.atan2(this._offset.z,this._offset.x)}get position(){return new a(this._currentPosition.x,this._currentPosition.y,this._currentPosition.z)}}class bt{constructor(t,e){this._scene=t,this._thirdPersonCamera=e,this.inAnimation=!1,this._animatedObjectsArray=[],this._currentAnimations=[],this._animationQueue=[],this._usedSequenceIDs=[]}update(){this.inAnimation&&this._handleAllCurrentAnimations()}_handleAllCurrentAnimations(){this._currentAnimations.forEach((t,e)=>{if(t.playhead<0){t.playhead+=t.stepRate,console.log(t.playhead);return}switch(t.animationType){case"path":this._handlePathAnimation(e);break;case"cameraTargetAndFollow":this._handleCameraTargetAndFolowAnimation(e);break;case"cameraTargetChange":this._handleCameraTargetChange(e);break;case"other":this._handleOtherAnimation(e);break}})}_handleOtherAnimation(t){const e=this._currentAnimations[t];if(this._animationExpired(e)){this._removeAnimation(t);return}e.playhead+=e.stepRate}_handlePathAnimation(t){const e=this._currentAnimations[t],i=this._animatedObjectsArray[e.movingObjectIndex];if(this._animationExpired(e)){this._removePathAnimation(t);return}e.firstFrame&&(i.inAnimation=!0,e.firstFrame=!1);const s=this._animatedObjectsArray[e.pathIndex].getPoint(e.playhead);i.nextPosition=s,e.playhead+=e.stepRate}_handleCameraTargetAndFolowAnimation(t){const e=this._currentAnimations[t];if(this._animationExpired(e)){this._removeAnimation(t);return}e.firstFrame&&(this._thirdPersonCamera.setTarget(this._animatedObjectsArray[0]),e.firstFrame=!1),e.playhead+=e.stepRate}_handleCameraTargetChange(t){const e=this._currentAnimations[t],i=this._animatedObjectsArray[e.newTargetIndex];if(e.firstFrame){const n=this.getVector(i.position,this._thirdPersonCamera.position);this._thirdPersonCamera.offsetBeforeTransition=this.getVector(i.position,this._thirdPersonCamera.position),this._thirdPersonCamera.offset=n,this._thirdPersonCamera.setTarget(this._animatedObjectsArray[e.newTargetIndex]),e.playhead+=e.stepRate,e.firstFrame=!1}else{if(this._animationExpired(e)){this._removeAnimation(t);return}const n=new a;n.lerpVectors(this._thirdPersonCamera.offsetBeforeTransition,this._thirdPersonCamera.defaultOffset,e.playhead),this._thirdPersonCamera.offset=n,e.playhead+=e.stepRate}}_animationExpired(t){return t.playhead>=t.totalTime}_addAnimation(t,e,i,n=!0,s={},o=.001,h="other",c=0){this.inAnimation=!0;const l=0-c;let u={sequenceID:t,sequenceGroup:e,waitForAnimationToFinish:n,playhead:l,stepRate:o,totalTime:i,animationType:h,firstFrame:!0};for(const m in s)u[m]!=null&&console.log("item in params was already assigned by _addAnimation"),u[m]=s[m];let g=!1;this._currentAnimations.forEach(m=>{m.sequenceID===t&&m.sequenceGroup<e&&m.waitForAnimationToFinish===!0&&(g=!0)}),g?this._animationQueue.push(u):this._currentAnimations.push(u),h==="other"&&console.log("Animation of type 'other' was added to the queue")}_addPathAnimation(t,e,i,n,s=1,o=.001,h="path"){const c=this._animatedObjectsArray.push(n)-1,l=this._animatedObjectsArray.push(i)-1,u=!0;n.inAnimation=!0;const g={movingObjectIndex:c,pathIndex:l};this._addAnimation(t,e,s,u,g,o,h)}_addCameraTargetAndFolowAnimation(t,e,i=1,n=.001,s="cameraTargetAndFollow"){this._addAnimation(t,e,i,!1,{},n,s)}_addCameraTargetChange(t,e,i,n=0,s=0,o=0,h="cameraTargetChange"){const l={newTargetIndex:this._animatedObjectsArray.push(i)-1};this._addAnimation(t,e,n,!1,l,s,h,o)}_removePathAnimation(t){const i=this._currentAnimations[t].movingObjectIndex;this._animatedObjectsArray[i].inAnimation=!1,this._removeAnimation(t)}_removeAnimation(t){const i=this._currentAnimations[t].sequenceID;this._currentAnimations.splice(t,1);let n=!0;if(this._currentAnimations.forEach(s=>{s.sequenceID===i&&s.waitForAnimationToFinish&&(n=!1)}),n){let s;this._animationQueue.forEach(o=>{o.sequenceID===i&&(s?o.sequenceGroup<s&&(s=o.sequenceGroup):s=o.sequenceGroup)}),this._animationQueue.forEach((o,h)=>{o.sequenceID===i&&o.sequenceGroup===s&&(this._animationQueue.splice(h,1),this._currentAnimations.push(o))})}console.log("current"),console.table(this._currentAnimations),console.log("queue"),console.table(this._animationQueue)}_getUniqueSequenceID(){let t=!0,e=0;for(;t;)e++,t=this._usedSequenceIDs.includes(e);return this._usedSequenceIDs.push(e),e}getTestPoint(t){const e=new U(.2,24,24),i=new W({color:16711680}),n=new H(e,i);n.position.set(t.x,t.y,t.z),this._scene.add(n)}getRadialPosition(t,e,i=-2){const n=e*Math.cos(t),s=e*Math.sin(t);return new a(n,i,s)}getPointWithTheta(t,e,i=0){t.x,t.z;const n=e,s=Math.cos(n)-Math.sin(n),o=Math.sin(n)+Math.cos(n);return new a(s,i,o)}getVector(t,e){return new a(e.x-t.x,e.y-t.y,e.z-t.z)}getQuaternionFromVectors(t,e,i=new a){const n=new a;n.copy(t),n.sub(i),n.normalize();const s=new a;s.copy(e),s.sub(i),s.normalize();let o=new S;return o.setFromUnitVectors(n,s),o}getScalarFromVectors(t,e,i){const n=new a;n.copy(t);const s=new a;s.copy(e),i&&(n.sub(i),s.sub(i));const o=this.getQuaternionFromVectors(n,s);return n.applyQuaternion(o),s.divide(n)}getPositionUsingQuaternion(t,e,i,n){const s=new a;return s.copy(t),s.sub(e),s.applyQuaternion(i),s.multiplyScalar(n),s.add(e),s}launchRocket(t,e){const i=this._thirdPersonCamera.targetPosition,n=this._thirdPersonCamera.position,s=e.position;this._thirdPersonCamera.target.theta,this._thirdPersonCamera.target.radius,this._thirdPersonCamera.theta,this._thirdPersonCamera.radius;const o=new S(-.042749690783808636,.7740255589161532,.0910618304607239,.6251117029104221),h=new S(-.47758778857662715,.6817708103503712,.08020833062945544,.5483293627504555),c=new S(.09619301751625357,.44899411012929447,.05282283648579934,.8867699478421195),l=new S(.05077657566513715,.033260032158517625,.003912944959825603,.9981483850040926),u=this.getPositionUsingQuaternion(n,i,o,.074319895),g=this.getPositionUsingQuaternion(n,i,h,1.56),m=this.getPositionUsingQuaternion(n,i,c,1.235886),I=this.getPositionUsingQuaternion(n,i,l,.8089725);let nt=new $(u,g,m,I),G=this.getVector(m,I);G.add(I);const st=new a(0,40,0),E=new a;E.copy(s),E.x-=10;let Q=new $(I,G,st,E);const L=this._getUniqueSequenceID();this._addPathAnimation(L,1,nt,t,1,.006,"path"),this._addCameraTargetChange(L,1,t,1,.01),this._addPathAnimation(L,2,Q,t,1,.005,"path"),this._addCameraTargetChange(L,2,e,1,.01,.05);const ot=Q.getPoints(50),at=new ct().setFromPoints(ot),rt=new lt({color:16711680});new dt(at,rt)}}let p,_,f,T,k,X,O,q,R,B,C,j,F=()=>{},Z=0;document.getElementById("addRocket").addEventListener("click",()=>{Z=document.getElementById("inputNumberRockets").value;for(let r=0;r<Z;r++)it()});(function(){var r=document.createElement("script");r.onload=function(){var t=new Stats;document.body.appendChild(t.dom),requestAnimationFrame(function e(){t.update(),requestAnimationFrame(e)})},r.src="//cdn.jsdelivr.net/gh/Kevnz/stats.js/build/stats.min.js",document.head.appendChild(r)})();let St=new d(0,"sun.glb",1e3,0),Tt=new d(65,"mercury.glb",241,.73),Ft=new d(100,"venus.glb",615,4.4),D=new d(155,"earth.glb",1e3,5.4),zt=new Pt(155,"moon.glb",1e3,5.4,8,1700,-1),Y=new d(210,"mars.glb",1880,-1.945),J=new d(275,"jupiter.glb",11900,3.85),tt=new d(345,"saturn.glb",29400,-3.82),It=new d(405,"uranus.glb",83700,.79),Lt=new d(455,"neptune.glb",163700,4.76),Ct=new d(510,"pluto.glb",247900,-4.57);document.getElementById("launch-home").addEventListener("click",()=>{F(D)});document.getElementById("launch-projects").addEventListener("click",()=>{F(Y)});document.getElementById("launch-about-me").addEventListener("click",()=>{F(tt)});document.getElementById("launch-resume").addEventListener("click",()=>{F(J)});const x=30,A=.8,v=.1,P=2,M=.1;O=new y(16777215,P,x,A,v,M);q=new y(16777215,P,x,A,v,M);R=new y(16777215,P,x,A,v,M);B=new y(16777215,P,x,A,v,M);C=new y(16777215,P,x,A,v,M);j=new y(16777215,P,x,A,v,M);O.position.set(0,35,0);q.position.set(0,-35,0);R.position.set(35,0,0);B.position.set(-35,0,0);C.position.set(0,0,35);j.position.set(0,0,-35);const V=[St,Tt,Ft,D,zt,Y,J,tt,It,Lt,Ct];let z=[];const Et=()=>{const r=V.map(t=>t.asyncLoadModel());return Promise.all(r).then(()=>{V.forEach(t=>{_.add(t.model)})})},kt=()=>{new N,_=new ut,f=new mt({canvas:document.querySelector("#bg")});const r=75,t=window.innerWidth/window.innerHeight,e=.1,i=1e4;p=new _t(r,t,e,i),p.position.set(-5,27.5,-1.7),T=new Mt(p),k=new bt(_,T),f.setPixelRatio(window.devicePixeRatio),f.setSize(window.innerWidth,window.innerHeight),f.render(_,p),X=new pt(p,f.domElement);const n=new ft(16777215,1.3),s=new gt(16777215,.3);n.position.set(0,0,0),_.add(n,s),new yt(C),new wt(200,20),_.add(O,q,R,B,C,j),Et(),F=h=>{const c=T.targetPosition,l=new K([c.x,c.y,c.z],!1,!0);l.asyncLoadModel().then(u=>{_.add(u),z.push(l),k.launchRocket(l,h)})};const o=40;for(let h=0;h<o;h++)it();qt(9e3),T.setTarget(D),window.addEventListener("resize",function(){const h=window.innerWidth,c=window.innerHeight;f.setSize(h,c),p.aspect=h/c,p.updateProjectionMatrix()}),et()};function et(){requestAnimationFrame(et),z.forEach(r=>{r.update(z)}),V.forEach(r=>{r.update()}),k.update(),X.update(),T.update(),f.render(_,p)}function Ot(){kt()}const qt=r=>{const t=new b.Vector(0,0,0);let e=0,i=[],n=new b.Vector,s;const o=new U(.25,24,24),h=new W({color:16777215});for(;e<r;){const c=new H(o,h);i=Array(3).fill().map(()=>xt.randFloatSpread(1e3)),n.set(i[0],i[1],i[2]),s=w.distance(n,t),s>400&&(c.position.set(i[0],i[1],i[2]),_.add(c),e++)}},it=()=>{const r=-20,t=20,e=Math.round(Math.random()*(t-r)+r),i=Math.round(Math.random()*(t-r)+r),n=Math.round(Math.random()*(t-r)+r),s=[e,i,n],o=new K(s);z.push(o),o.asyncLoadModel().then(h=>{_.add(h)}),document.getElementById("numberOfRockets").innerHTML=z.length};Ot();
